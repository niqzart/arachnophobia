<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
<body>
<ui:composition template="/views/template.xhtml">

  <ui:define name="title">Lab 3 | Main</ui:define>

  <ui:define name="scripts">
    <script src="/static/canvaser.js"></script>
    <script src="/static/validator.js"></script>
  </ui:define>

  <ui:define name="content">
    <table id="content">
      <tbody>
      <tr>
        <td>
          <form action="" method="post" target="result" onsubmit="onSubmit()">
            <p>Input the data</p>
            <p class="checkboxes var-p" id="x-p">
              <label>
                <span class="main-label">X:</span>
              </label>

              <c:forEach var="x" begin="0" end="8">
                <label>
                  <span>#{x - 4}</span>
                  <input
                          type="checkbox"
                          name="#{x - 4}"
                          id="X#{x - 4}"
                          onclick="hideErrorMessages()"/>
                </label>
                <!--<% if (x == -0.5) { %><br><%}%>-->
              </c:forEach>

            </p>
            <p id="y-p" class="var-p">
              <span class="main-label">Y:</span>
              <input class="text-input" name="Y" oninput="onInputY()" id="y-input"/>
            </p>
            <p id="r-p" class="var-p">
              <span class="main-label">R:</span>

              <c:forEach var="r" begin="1" end="5">
                <button
                        type="button"
                        name="#{r}"
                        id="R#{r}"
                        onclick="if (onInputR(#{r})) fillCanvas()"
                >
                  #{r}
                </button>
              </c:forEach>

              <input name="R" id="r-input" style="display: none;" value=""/>
            </p>
            <p>
              <input type="submit" id="send-button"/>
            </p>
            <p id="message" style="visibility: hidden"/>
          </form>
        </td>
        <td>
          <canvas id="point-area" onclick="onClickCanvas()"/>
        </td>
      </tr>
      <tr>
        <td colspan="2" id="result-wrapper">
          <div id="result-container">
            <table id="result-table">
              <tbody>
              <tr>
                <th>X</th>
                <th>Y</th>
                <th>R</th>
                <th>Result</th>
              </tr>
              <c:forEach var="point" begin="0" end="80">
                <tr>
                  <th>#{point}</th>
                  <th>Y</th>
                  <th>R</th>
                  <th>Result</th>
                </tr>
              </c:forEach>
              <!--
                # HttpSession session = request.getSession(false);

                # int newRows = (int) session.getAttribute("new-rows");
                # ArrayList<Point> points = (ArrayList<Point>) session.getAttribute("points");
                # Collections.reverse(points);

              <c:forEach var="point" begin="0" end="8">
                <tr style="color: {newRows- - > 0 ? lime : white}">
                  <th>#{point.x}</th>
                  <th>#{point.y}</th>
                  <th>#{point.r}</th>
                  <th>#{point.inside}</th>
                </tr>
              </c:forEach>
              -->
              </tbody>
            </table>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </ui:define>

</ui:composition>
</body>

</html>